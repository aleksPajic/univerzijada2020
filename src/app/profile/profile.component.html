<form class="md-form form-style" enctype="multipart/form-data">
  
    <div class="form-row">
        <div class="col-6 form-group">
           <label>Ime</label>   
           <input type="text" name='firstName' [ngClass]="{'input-disabled': !isEditing}" [(ngModel)]='user.firstName' class="form-control">
          </div>
    </div> 
    <div class="form-row">
        <div class="col-6 form-group">
            <label>Prezime</label>
            <input type="text" name='lastName' [ngClass]="{'input-disabled': !isEditing}" [(ngModel)]='user.lastName' class="form-control">
        </div> 
  </div> 
  
  
    <div class="form-row">
      <div class="col-6 form-group">
        <label>Adresa</label>   
        <input type="text" name='address' [ngClass]="{'input-disabled': !isEditing}" [(ngModel)]='user.address' class="form-control"> 
      </div>
    </div> <!-- form-row end.// -->
  
    <div class="form-row">
      <div class="col-6 form-group">
        <label>Kontakt telefon</label>   
        <input type="text" name='contactNumber' [ngClass]="{'input-disabled': !isEditing}" [(ngModel)]='user.contactNumber' class="form-control"> 
      </div>
    </div> <!-- form-row end.// -->

  <div class="form-row">
        <div class="col form-group">
            <label>Korisničko ime</label>   
            <input type="text" name='username' [ngClass]="{'input-disabled': !isEditing}" [(ngModel)]='user.username' class="form-control"> 
        </div>
        <div class="col form-group">
            <label>Lozinka</label>   
            <input type="password" name='password' disabled [(ngModel)]='user.password' class="form-control">
        </div>
  </div> <!-- form-row end.// -->

  <div *ngIf='errorMessage && isEditing' class="alert alert-danger" role="alert">
      {{errorMessage}}
   </div>

  <div class="row">
    <div class="form-group col" *ngIf='!isEditing' style="text-align: center">
        <button class="btn btn-primary mt-3" (click)="enableEditing()">Promeni podatke</button>
    </div> 
    <div class="form-group col" *ngIf='isEditing' style="text-align: center">
          <button class="btn btn-primary mt-3" (click)="saveChanges()">Sačuvaj promene</button>
      </div>
      
      <div class="form-group col" style="text-align: center">
          <button data-toggle="modal" data-target="#newPasswordModal" 
            class="btn btn-danger mt-3">Promeni lozinku</button>
      </div> 
  </div>
</form>


<!-- Modal -->
<div class="modal fade" id="newPasswordModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Nova lozinka</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div class="form-row">
                  <div class="col form-group">
                      <label>Lozinka</label>   
                      <input type="password" name='newPassword' [(ngModel)]='newPassword' class="form-control">
                  </div>
              </div>
              
              <div *ngIf='errorMessagePassword' class="alert alert-danger" role="alert">
                  {{errorMessagePassword}}
              </div>
        </div>
        <div class="modal-footer">
          <button #closeModal type="button" class="btn btn-secondary" data-dismiss="modal">Zatvori</button>
          <button type="button" class="btn btn-primary" (click)="changePassword()">Sačuvaj</button>
        </div>
      </div>
    </div>
  </div>